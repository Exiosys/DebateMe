{"remainingRequest":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beelee_the_bee/Documents/ETNA/PLI/front/src/components/Profil.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/src/components/Profil.vue","mtime":1595668326084},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgaGVhZGVyQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9taW5pLWNvbXBvbmVudHMvaGVhZGVyLnZ1ZSI7CmltcG9ydCBmb290ZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL21pbmktY29tcG9uZW50cy9mb290ZXIudnVlIjsKaW1wb3J0IGFjdGl2aXRlUG9zdGUgZnJvbSAiQC9jb21wb25lbnRzL21pbmktY29tcG9uZW50cy9hY3Rpdml0ZVBvc3RlLnZ1ZSIKaW1wb3J0IGFjdGl2aXRlQ29tbWVudGFpcmUgZnJvbSAiQC9jb21wb25lbnRzL21pbmktY29tcG9uZW50cy9hY3Rpdml0ZUNvbW1lbnRhaXJlLnZ1ZSIKaW1wb3J0IG15QVBJIGZyb20gIkAvY29tcG9uZW50cy9teUFQSSI7CgoKQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgaGVhZGVyQ29tcG9uZW50LAogICAgICAgIGZvb3RlckNvbXBvbmVudCwKICAgICAgICBhY3Rpdml0ZVBvc3RlLAogICAgICAgIGFjdGl2aXRlQ29tbWVudGFpcmUsCiAgICB9LAp9KQoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVsbG9Xb3JsZCBleHRlbmRzIFZ1ZSB7CiAgICBzaG93UG9zdGVzOiBib29sZWFuOwogICAgdXNlcjogb2JqZWN0OwogICAgcHJvZmlsUGljOiBzdHJpbmc7CiAgICBiYW5uZXJQaWM6IHN0cmluZzsKCiAgICBhY2hpdm1lbnRzOiBBcnJheTxzdHJpbmc+OwogICAgcG9zdHM6IG9iamVjdDsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgIHN1cGVyKCk7CiAgICAgICAgdGhpcy51c2VyID0gW251bGxdOwogICAgICAgIHRoaXMuc2hvd1Bvc3Rlcz0gdHJ1ZTsKICAgICAgICB0aGlzLnByb2ZpbFBpYyA9ICIiOwogICAgICAgIHRoaXMuYmFubmVyUGljID0gIiI7CiAgICAgICAgdGhpcy5hY2hpdm1lbnRzID0gWyIiXTsKICAgICAgICB0aGlzLnBvc3RzID0gWyIiXTsKICAgIH0KCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0Q3VycmVudFVzZXIoKTsKICAgIH0KCiAgICBhc3luYyBnZXRDdXJyZW50VXNlcigpOiBQcm9taXNlPHZvaWQ+IHsKICAgICAgICBjb25zdCBwcm9maWxUb0ZpbmQgPSBkb2N1bWVudC5VUkwuc3BsaXQoIi8iKVs0XTsKICAgICAgICBsZXQgcmVwID0gbnVsbDsKICAgICAgICBhd2FpdCBteUFQSS5nZXQoInVzZXJzL3NlYXJjaC8iICsgcHJvZmlsVG9GaW5kKS50aGVuKChyZXNwb25zZTogeyBkYXRhOiBhbnl9KSA9PiAgewogICAgICAgICAgICByZXAgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgICAgIH0pOwogICAgICAgIGlmIChyZXAgJiYgKHJlcCBhcyBSZWNvcmQ8c3RyaW5nLGFueT4pLmxlbmd0aCA+IDApCiAgICAgICAgICAgIHRoaXMudXNlckZvdW5kKChyZXBbMF0gYXMgUmVjb3JkPHN0cmluZyxhbnk+KS5pZCk7CiAgICB9CgogICAgYXN5bmMgdXNlckZvdW5kKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7CiAgICAgICAgbGV0IHJlcCA9IG51bGw7CiAgICAgICAgYXdhaXQgbXlBUEkuZ2V0KCJ1c2Vycy8iICsgdXNlcklkKS50aGVuKChyZXNwb25zZTogeyBkYXRhOiBhbnl9KSA9PiAgewogICAgICAgICAgICByZXAgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgLy90aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgICBpZiAocmVwKSB7CiAgICAgICAgICAgIHRoaXMudXNlciA9IHJlcDsKICAgICAgICAgICAgdGhpcy5wcm9maWxQaWMgPSAocmVwIGFzIFJlY29yZDxzdHJpbmcsYW55PikuaW1nLnByb2ZpbGVfcGljdHVyZTsKICAgICAgICAgICAgdGhpcy5iYW5uZXJQaWMgPSAocmVwIGFzIFJlY29yZDxzdHJpbmcsYW55PikuaW1nLmJhbm5lcjsKICAgICAgICAgICAgdGhpcy5hY2hpdm1lbnRzID0gKHJlcCBhcyBSZWNvcmQ8c3RyaW5nLGFueT4pLmFjaGlldmVtZW50czsKICAgICAgICAgICAgdGhpcy5wb3N0cyA9IChyZXAgYXMgUmVjb3JkPHN0cmluZyxhbnk+KS5wb3N0czsKICAgICAgICB9CiAgICB9Cgp9Cg=="},{"version":3,"sources":["Profil.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Profil.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <header-component/>\r\n        <div class=\"top-profil\">\r\n            <img v-if=\"this.bannerPic\" v-bind:src=\"this.user.img.banner\"/>\r\n            <img v-else src=\"../assets/tmp/couverture.png\"/>\r\n            <div class=\"photo-profil\">\r\n                <img class=\"profil_pic\" v-if=\"this.profilPic\" v-bind:src=\"this.user.img.profile_picture\"/>\r\n                <img class=\"profil_pic\" v-else src=\"../assets/img/profile.png\"/>\r\n                <h1>{{this.user.username}}</h1>\r\n            </div>\r\n            <div class=\"profil-info\">\r\n                <div>\r\n                    <h3>Abonnés</h3>\r\n                    <p>0</p>\r\n                </div>\r\n                <div>\r\n                    <h3>Likes</h3>\r\n                    <p>0</p>\r\n                </div>\r\n                <div>\r\n                    <h3>Abonnements</h3>\r\n                    <p>0</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"profil-citation\">\r\n            <img class=\"quoteleft\" src=\"../assets/icon/quote_left.png\"/>\r\n            <p v-if=\"this.user.quote\">{{this.user.quote}}</p>\r\n            <p v-else>En panne d'inspiration ? Créez votre propre citation</p>\r\n            <img class=\"quoteright\" src=\"../assets/icon/quote_right.png\"/>\r\n        </div>\r\n        <div class=\"liste-badge\">\r\n            <p v-if=\"this.achivments.length === 0\">Aucune récompenses pour le moment..</p>\r\n            <img v-for=\"item in this.user.achievements\" :key=\"item.id\" v-bind:src=\"item.logo\" v-bind:title=\"item.name\" />\r\n        </div>\r\n        <div class=\"activite\">\r\n            <div class=\"choice-categorie\">\r\n                <p id=\"activité\"><span v-if=\"this.posts.length === 0\">Aucune </span>Activité</p>\r\n            </div>\r\n            <div class=\"liste\">\r\n                <activiteCommentaire v-for=\"item2 in this.user.posts\" :key=\"item2.id\" :theme_id=\"item2.theme_id\" :date=\"item2.updated_at\" :question_id=\"item2.question_id\" :message=\"item2.content\" :up=\"item2.up\" :picture=\"user.profile_pic\"/>\r\n            </div>\r\n        </div>\r\n        <footer-component/>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { Component, Prop, Vue } from 'vue-property-decorator';\r\n    import headerComponent from \"@/components/mini-components/header.vue\";\r\n    import footerComponent from \"@/components/mini-components/footer.vue\";\r\n    import activitePoste from \"@/components/mini-components/activitePoste.vue\"\r\n    import activiteCommentaire from \"@/components/mini-components/activiteCommentaire.vue\"\r\n    import myAPI from \"@/components/myAPI\";\r\n\r\n\r\n    @Component({\r\n        components: {\r\n            headerComponent,\r\n            footerComponent,\r\n            activitePoste,\r\n            activiteCommentaire,\r\n        },\r\n    })\r\n\r\n    export default class HelloWorld extends Vue {\r\n        showPostes: boolean;\r\n        user: object;\r\n        profilPic: string;\r\n        bannerPic: string;\r\n\r\n        achivments: Array<string>;\r\n        posts: object;\r\n        constructor() {\r\n            super();\r\n            this.user = [null];\r\n            this.showPostes= true;\r\n            this.profilPic = \"\";\r\n            this.bannerPic = \"\";\r\n            this.achivments = [\"\"];\r\n            this.posts = [\"\"];\r\n        }\r\n\r\n        mounted() {\r\n            this.getCurrentUser();\r\n        }\r\n\r\n        async getCurrentUser(): Promise<void> {\r\n            const profilToFind = document.URL.split(\"/\")[4];\r\n            let rep = null;\r\n            await myAPI.get(\"users/search/\" + profilToFind).then((response: { data: any}) =>  {\r\n                rep = response.data;\r\n            }).catch(error => {\r\n                this.$router.go(-1)\r\n            });\r\n            if (rep && (rep as Record<string,any>).length > 0)\r\n                this.userFound((rep[0] as Record<string,any>).id);\r\n        }\r\n\r\n        async userFound(userId: number): Promise<void> {\r\n            let rep = null;\r\n            await myAPI.get(\"users/\" + userId).then((response: { data: any}) =>  {\r\n                rep = response.data;\r\n            }).catch(error => {\r\n                //this.$router.go(-1)\r\n                console.log(error);\r\n            });\r\n            if (rep) {\r\n                this.user = rep;\r\n                this.profilPic = (rep as Record<string,any>).img.profile_picture;\r\n                this.bannerPic = (rep as Record<string,any>).img.banner;\r\n                this.achivments = (rep as Record<string,any>).achievements;\r\n                this.posts = (rep as Record<string,any>).posts;\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n    .modifyBanner {\r\n        z-index:30 !important;\r\n        height:20px !important;\r\n        width:20px !important;\r\n        position:absolute !important;\r\n        right:20px !important;\r\n        top:35px !important;\r\n        padding:10px !important;\r\n        background:white !important;\r\n        border-radius:20px !important;\r\n        cursor: pointer !important;\r\n    }\r\n    .liste {\r\n        width:50vw;\r\n        margin-left:25vw;\r\n        padding-bottom:50px;\r\n    }\r\n    .choice-categorie {\r\n        display:flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: center;\r\n        width: 100vw;\r\n        padding-bottom:20px;\r\n    }\r\n    .choice-categorie p {\r\n        color:#1469ff;\r\n        font-weight: 500;\r\n        font-size:30px;\r\n        margin-right:15px;\r\n        margin-left:15px;\r\n    }\r\n    .activite {\r\n        display:flex;\r\n        flex-wrap: wrap;\r\n        margin-top:50px;\r\n    }\r\n    .liste-badge {\r\n        width:65vw;\r\n        padding:40px 17.5vw 40px 17.5vw;\r\n        text-align: center;\r\n        margin-top:60px;\r\n        height:auto;\r\n        background-color:#F9F9F9;\r\n    }\r\n    .liste-badge img {\r\n        margin-left:5px;\r\n        margin-right:5px;\r\n        width:60px;\r\n    }\r\n    .quoteleft {\r\n        width:100px;\r\n        padding-bottom:60px;\r\n    }\r\n    .quoteright {\r\n        width:100px;\r\n        padding-top:20px;\r\n    }\r\n    .profil-citation > p {\r\n        max-width:50vw;\r\n        font-weight: 300;\r\n        font-size: 24px;\r\n        line-height: 28px;\r\n        padding-left:40px;\r\n        padding-right:40px;\r\n    }\r\n    .profil-citation {\r\n        margin-top:100px;\r\n        width:100vw;\r\n        display:flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .profil-info > div {\r\n        display:flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        margin-left:50px;\r\n        margin-right:50px;\r\n        text-align: center;\r\n    }\r\n    .profil-info > div > h3 {\r\n        width:120px;\r\n        font-size:20px;\r\n        color:#1469ff;\r\n    }\r\n    .profil-info > div > p {\r\n        margin-top:5px;\r\n        color:#A7A7A7;\r\n    }\r\n    .profil-info {\r\n        width:100vw;\r\n        display:flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .top-profil > img {\r\n        width:100vw;\r\n        height:400px;\r\n        object-fit: cover;\r\n        position:absolute;\r\n        z-index:-1;\r\n        top:0;\r\n        margin-top:60px;\r\n    }\r\n    .top-profil {\r\n        width:500px;\r\n    }\r\n    .photo-profil {\r\n        width:100vw;\r\n        text-align: center;\r\n        margin-top:250px;\r\n    }\r\n    .photo-profil img {\r\n        width:184px;\r\n        height:184px;\r\n        object-fit: cover;\r\n        border-radius: 150px;\r\n        border: 4px solid white;\r\n    }\r\n    .photo-profil h1 {\r\n        margin-top:10px;\r\n        padding-bottom:50px;\r\n    }\r\n</style>\r\n"]}]}