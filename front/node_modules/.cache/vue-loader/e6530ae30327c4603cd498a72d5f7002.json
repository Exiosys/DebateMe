{"remainingRequest":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brdnicolas/Desktop/DebateMe/front/src/components/mini-components/header.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/brdnicolas/Desktop/DebateMe/front/src/components/mini-components/header.vue","mtime":1597089633579},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IG15QVBJIGZyb20gIkAvY29tcG9uZW50cy9teUFQSSI7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlciBleHRlbmRzIFZ1ZSB7CiAgICBAUHJvcCgpIHByaXZhdGUgbXNnITogc3RyaW5nOwoKICAgIGN1cnJlbnRQYWdlOiBzdHJpbmc7CiAgICB1c2VyOiBvYmplY3Q7CiAgICB2aXNpYmxlTWVudTogYm9vbGVhbjsKICAgIHByb2ZpbFBpYzogc3RyaW5nOwogICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgc3VwZXIoKTsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gIiI7CiAgICAgICAgdGhpcy51c2VyID0gW251bGxdOwogICAgICAgIHRoaXMucHJvZmlsUGljID0gIiI7CiAgICAgICAgdGhpcy52aXNpYmxlTWVudSA9IGZhbHNlOwogICAgfQoKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRDdXJyZW50VXNlcigpOwogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBkb2N1bWVudC5VUkwuc3BsaXQoIi8iKVszXTsKICAgIH0KCiAgICBhc3luYyBnZXRDdXJyZW50VXNlcigpOiBQcm9taXNlPHZvaWQ+IHsKICAgICAgICBsZXQgcmVwID0gbnVsbDsKICAgICAgICBhd2FpdCBteUFQSS5nZXQoInVzZXJzL21lL3Byb2ZpbGUiKS50aGVuKChyZXNwb25zZTogeyBkYXRhOiBhbnl9KSA9PiAgewogICAgICAgICAgICByZXAgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB0aGlzLmRlY29ubmV4aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlcCkgewogICAgICAgICAgICB0aGlzLnVzZXIgPSByZXA7CiAgICAgICAgICAgIHRoaXMucHJvZmlsUGljID0gKHJlcCBhcyBSZWNvcmQ8c3RyaW5nLGFueT4pLmltZy5wcm9maWxlX3BpY3R1cmU7CiAgICAgICAgfQogICAgfQoKICAgIHJlZGlyZWN0VG8ocGFnZTogc3RyaW5nKTogdm9pZCB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLycgKyBwYWdlOwogICAgfQoKICAgIGRlY29ubmV4aW9uKCk6IHZvaWQgewogICAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9ICIiOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnRva2VuID0gIiI7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7CiAgICB9Cgp9Cg=="},{"version":3,"sources":["header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"header.vue","sourceRoot":"src/components/mini-components","sourcesContent":["<template>\r\n    <div class=\"ContactUs\">\r\n        <header>\r\n            <div class=\"leftHeader\">\r\n                <img src=\"../../assets/img/logo2.png\"/>\r\n                <a href=\"/home\">Debate Me</a>\r\n                <div class=\"nav\">\r\n                    <a href=\"/home\" v-bind:class=\"{'current': this.currentPage === 'home'}\">Accueil</a>\r\n                    <a href=\"/message\" v-bind:class=\"{'current': this.currentPage === 'message'}\">Messages</a>\r\n                    <a href=\"/about\" v-bind:class=\"{'current': this.currentPage === 'about'}\">A propos</a>\r\n                    <a href=\"/notifications\" v-bind:class=\"{'current': this.currentPage === 'notifications'}\">Notifications (53)</a>\r\n                    <a v-if=\"this.user.isAdmin\" style=\"color:#EFA1A1\" href=\"/panel\" v-bind:class=\"{'currentAdmin': this.currentPage === 'panel'}\">Modération</a>\r\n                </div>\r\n            </div>\r\n            <div class=\"rightHeader\">\r\n                <a v-bind:class=\"{'current': this.currentPage === 'profil'}\" href=\"/me\">{{this.user.username}}</a>\r\n                <img class=\"profil_pic\" v-if=\"this.profilPic\" v-bind:src=\"this.profilPic\"/>\r\n                <img class=\"profil_pic\" v-else src=\"../../assets/img/profile.png\"/>\r\n                <button @click=\"visibleMenu=!visibleMenu\" style=\"width:25px;height:22px;background:none;border:none;outline:none;margin-left:15px\">\r\n                    <svg viewBox=\"0 0 20 20\" class=\"Menuicon\">\r\n                        <title>Menu</title>\r\n                        <path fill=\"#3f3e48\" d=\"M6,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM16,6c0,1.1 0.9,2 2,2s2,-0.9 2,-2 -0.9,-2 -2,-2 -2,0.9 -2,2zM12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z\" />\r\n                    </svg>\r\n                </button>\r\n                <ul class=\"dropdown\" v-if=\"this.visibleMenu\">\r\n                    <li @click=\"redirectTo('me')\">\r\n                        <img src=\"../../assets/icon/Menu/user.png\"/>\r\n                        <a>Mon Compte</a>\r\n                    </li>\r\n                    <li>\r\n                        <img src=\"../../assets/icon/Menu/params.png\"/>\r\n                        <a>Paramètres</a>\r\n                    </li>\r\n                    <li>\r\n                        <img src=\"../../assets/icon/Menu/prix.png\"/>\r\n                        <a>Abonnement</a>\r\n                    </li>\r\n                    <li @click=\"deconnexion\">\r\n                        <img src=\"../../assets/icon/Menu/deco.png\"/>\r\n                        <a>Deconnexion</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </header>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { Component, Prop, Vue } from 'vue-property-decorator';\r\n    import myAPI from \"@/components/myAPI\";\r\n\r\n    @Component\r\n    export default class Header extends Vue {\r\n        @Prop() private msg!: string;\r\n\r\n        currentPage: string;\r\n        user: object;\r\n        visibleMenu: boolean;\r\n        profilPic: string;\r\n        constructor() {\r\n            super();\r\n            this.currentPage = \"\";\r\n            this.user = [null];\r\n            this.profilPic = \"\";\r\n            this.visibleMenu = false;\r\n        }\r\n\r\n        mounted() {\r\n            this.getCurrentUser();\r\n            this.currentPage = document.URL.split(\"/\")[3];\r\n        }\r\n\r\n        async getCurrentUser(): Promise<void> {\r\n            let rep = null;\r\n            await myAPI.get(\"users/me/profile\").then((response: { data: any}) =>  {\r\n                rep = response.data;\r\n            }).catch(error => {\r\n                console.log(error);\r\n                this.deconnexion();\r\n            });\r\n            if (rep) {\r\n                this.user = rep;\r\n                this.profilPic = (rep as Record<string,any>).img.profile_picture;\r\n            }\r\n        }\r\n\r\n        redirectTo(page: string): void {\r\n            window.location.href = '/' + page;\r\n        }\r\n\r\n        deconnexion(): void {\r\n            localStorage.token = \"\";\r\n            sessionStorage.token = \"\";\r\n            window.location.href = '/';\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .Menuicon:hover path {\r\n        transition:0.2s;\r\n        fill:#1864ff;\r\n    }\r\n    path {\r\n        transition:0.2s;\r\n        fill:#3f3e48;\r\n    }\r\n    * {\r\n        font-family: 'Roboto', sans-serif;\r\n    }\r\n    .dropdown {\r\n        -webkit-animation-name: fadeInDown;\r\n        animation-name: fadeInDown;\r\n        -webkit-animation-duration: 0.5s;\r\n        animation-duration: 0.5s;\r\n        -webkit-animation-fill-mode: both;\r\n        animation-fill-mode: both;\r\n    }\r\n    @-webkit-keyframes fadeInDown {\r\n        0% {\r\n            opacity: 0;\r\n            -webkit-transform: translate3d(0, -20%, 0);\r\n            transform: translate3d(0, -20%, 0);\r\n        }\r\n        100% {\r\n            opacity: 1;\r\n            -webkit-transform: none;\r\n            transform: none;\r\n        }\r\n    }\r\n    @keyframes fadeInDown {\r\n        0% {\r\n            opacity: 0;\r\n            -webkit-transform: translate3d(0, -20%, 0);\r\n            transform: translate3d(0, -20%, 0);\r\n        }\r\n        100% {\r\n            opacity: 1;\r\n            -webkit-transform: none;\r\n            transform: none;\r\n        }\r\n    }\r\n    .dropdown {\r\n        z-index: 500000;\r\n        background:white;\r\n        cursor:auto;\r\n        position:absolute;\r\n        margin-top:70px;\r\n        margin-right:32px;\r\n        right:0;\r\n        top:0;\r\n        border:2px solid #dadce0;\r\n        border-radius: 6px 0 0 6px;\r\n        list-style: none;\r\n    }\r\n    .dropdown li {\r\n        display:flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        padding:12px 20px 12px 20px;\r\n        border-radius: 0 90px 90px 0;\r\n        margin-right:20px;\r\n        margin-top:10px;\r\n        margin-bottom:10px;\r\n    }\r\n    .dropdown li:hover {\r\n        background:rgba(15, 115, 255, 0.10);\r\n    }\r\n    .dropdown li:hover a{\r\n        color:#1072ff;\r\n    }\r\n    .dropdown li:hover img {\r\n        fill: red;\r\n    }\r\n    .dropdown li img {\r\n        width:25px;\r\n        height:25px;\r\n    }\r\n    .dropdown li p {\r\n        color:#666666;\r\n        margin-left:20px;\r\n        font-size:16px\r\n    }\r\n    .leftHeader > *, .rightHeader * {\r\n        cursor:pointer;\r\n    }\r\n    header {\r\n        padding-left:10px;\r\n        padding-top:8px;\r\n        padding-bottom:8px;\r\n        background: #ffffff;\r\n        width:100vw;\r\n        height:60px;\r\n        display:flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        -webkit-box-shadow: 0px 8px 16px -5px rgba(214,214,214,1);\r\n        -moz-box-shadow: 0px 8px 16px -5px rgba(214,214,214,1);\r\n        box-shadow: 0px 8px 16px -5px rgba(214,214,214,1);\r\n    }\r\n    header a  {\r\n        font-style: normal;\r\n        font-weight: 400;\r\n        font-size: 22px;\r\n        color:blue;\r\n        margin: 0 25px 0 25px;\r\n    }\r\n    .leftHeader {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n    .rightHeader {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        margin-right:60px;\r\n    }\r\n    .rightHeader .profil_pic {\r\n        width:22px;\r\n        height:22px;\r\n        margin-top:7px;\r\n        border-radius: 40px;\r\n        object-fit: cover;\r\n    }\r\n    .rightHeader a {\r\n        color:#3f3e42;\r\n        font-weight: bold;\r\n        font-size:14px;\r\n        margin-right:20px;\r\n        margin-left:20px;\r\n        margin-top:7px;\r\n        text-decoration: none;\r\n    }\r\n    .leftHeader .nav {\r\n        margin-top:7px;\r\n        margin-left: 65px;\r\n    }\r\n    .leftHeader .nav a {\r\n        transition: 0.2s;\r\n        color:#cacbd4;\r\n        text-transform: uppercase;\r\n        font-size:14px;\r\n        margin-right:20px;\r\n        margin-left:20px;\r\n    }\r\n    .leftHeader a {\r\n        font-weight: 500;\r\n        font-size: 20px;\r\n        color:#1072ff;\r\n        margin: 7px 0 0;\r\n        text-decoration: none;\r\n    }\r\n    .leftHeader img{\r\n        margin-left:20px;\r\n        width:30px;\r\n    }\r\n    .current {\r\n        color:#1072ff !important;\r\n        font-weight: bold !important;\r\n    }\r\n    .currentAdmin {\r\n        color:#FC4444 !important;\r\n        font-weight: bold !important;\r\n    }\r\n    .nav a:hover {\r\n        transition: 0.2s;\r\n        color:#BDC1EB;\r\n    }\r\n</style>\r\n"]}]}