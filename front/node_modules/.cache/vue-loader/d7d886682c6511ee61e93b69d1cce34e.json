{"remainingRequest":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beelee_the_bee/Documents/ETNA/PLI/front/src/components/admin/mini-components/report-comp.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/src/components/admin/mini-components/report-comp.vue","mtime":1595668326084},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/beelee_the_bee/Documents/ETNA/PLI/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgovLyBAdHMtbm9jaGVjawoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgoKQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICB9LAp9KQoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVsbG9Xb3JsZCBleHRlbmRzIFZ1ZSB7CiAgICBAUHJvcCh7ZGVmYXVsdDogIlBhcyBkZSBtZXNzYWdlIn0pCiAgICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQ7CiAgICBAUHJvcCh7ZGVmYXVsdDogIiJ9KQogICAgZGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkOwogICAgQFByb3Aoe2RlZmF1bHQ6ICJBdWN1biJ9KQogICAgdHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOwogICAgQFByb3Aoe2RlZmF1bHQ6ICIwIn0pCiAgICBwb3N0X2lkOiBudW1iZXIgfCB1bmRlZmluZWQ7CgogICAgZGF0ZUFmdGVyOiBzdHJpbmc7CiAgICB0eXBlQWZ0ZXI6IHN0cmluZzsKICAgIHBvc3RNZXNzYWdlOiBzdHJpbmc7CgogICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgc3VwZXIoKTsKICAgICAgICB0aGlzLmRhdGVBZnRlciA9ICIiOwogICAgICAgIHRoaXMudHlwZUFmdGVyID0gIiI7CiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSA9ICJJbnRyb3V2YWJsZS4uIjsKICAgIH0KCiAgICBjcmVhdGVkKCkgewogICAgICAgIG1vbWVudC5sb2NhbGUoJ2ZyJyk7CiAgICAgICAgaWYgKHRoaXMuZGF0ZSkKICAgICAgICAgICAgdGhpcy5kYXRlQWZ0ZXIgPSBtb21lbnQodGhpcy5kYXRlKS5mcm9tTm93KCk7CiAgICAgICAgdGhpcy5nZXRUeXBlKCk7CiAgICAgICAgdGhpcy5nZXRQb3N0TWVzc2FnZSh0aGlzLnBvc3RfaWQpOwogICAgfQoKICAgIGFzeW5jIGdldFR5cGUoKTogUHJvbWlzZTx2b2lkPiB7CiAgICAgICAgbGV0IHJlcCA9IG51bGw7CiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KCJodHRwczovL2FwaS5odWdvdmFzdC50ZWNoL3JlcG9ydHNfcmVhc29ucyIsewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UudG9rZW4gLy90aGUgdG9rZW4gaXMgYSB2YXJpYWJsZSB3aGljaCBob2xkcyB0aGUgdG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmVwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgICBpZiAocmVwKSB7CiAgICAgICAgICAgIHJlcC5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgaWYoZWxlbWVudC5pZCA9PSB0aGlzLnR5cGUpCiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlQWZ0ZXIgPSBlbGVtZW50LnJlYXNvbjsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIGFzeW5jIGdldFBvc3RNZXNzYWdlKHBvc3RJZCk6IFByb21pc2U8dm9pZD4gewogICAgICAgIGNvbnNvbGUubG9nKHBvc3RJZCk7CiAgICAgICAgbGV0IHJlcCA9IG51bGw7CiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KCJodHRwczovL2FwaS5odWdvdmFzdC50ZWNoL3Bvc3RzLyIgKyBwb3N0SWQsewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UudG9rZW4gLy90aGUgdG9rZW4gaXMgYSB2YXJpYWJsZSB3aGljaCBob2xkcyB0aGUgdG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmVwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgICBpZiAocmVwKSB7CiAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2UgPSByZXAuY29udGVudDsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["report-comp.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"report-comp.vue","sourceRoot":"src/components/admin/mini-components","sourcesContent":["<template>\r\n    <div class=\"report\">\r\n        <h2>{{this.typeAfter}}</h2>\r\n        <h4>Poste :</h4>\r\n        <p>{{this.postMessage}}</p>\r\n        <p>{{this.message}}</p>\r\n        <p>{{this.dateAfter}}</p>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    // @ts-nocheck\r\n\r\n    import { Component, Prop, Vue } from 'vue-property-decorator';\r\n    import axios from \"axios\";\r\n    import moment from 'moment'\r\n\r\n\r\n    @Component({\r\n        components: {\r\n        },\r\n    })\r\n\r\n    export default class HelloWorld extends Vue {\r\n        @Prop({default: \"Pas de message\"})\r\n        message: string | undefined;\r\n        @Prop({default: \"\"})\r\n        date: string | undefined;\r\n        @Prop({default: \"Aucun\"})\r\n        type: string | undefined;\r\n        @Prop({default: \"0\"})\r\n        post_id: number | undefined;\r\n\r\n        dateAfter: string;\r\n        typeAfter: string;\r\n        postMessage: string;\r\n\r\n        constructor() {\r\n            super();\r\n            this.dateAfter = \"\";\r\n            this.typeAfter = \"\";\r\n            this.postMessage = \"Introuvable..\";\r\n        }\r\n\r\n        created() {\r\n            moment.locale('fr');\r\n            if (this.date)\r\n                this.dateAfter = moment(this.date).fromNow();\r\n            this.getType();\r\n            this.getPostMessage(this.post_id);\r\n        }\r\n\r\n        async getType(): Promise<void> {\r\n            let rep = null;\r\n            await axios.get(\"https://api.hugovast.tech/reports_reasons\",{\r\n                headers: {\r\n                    Authorization: localStorage.token //the token is a variable which holds the token\r\n                }\r\n            }).then(function(response) {\r\n                rep = response.data;\r\n            });\r\n            if (rep) {\r\n                rep.forEach(element => {\r\n                    if(element.id == this.type)\r\n                        this.typeAfter = element.reason;\r\n                });\r\n            }\r\n        }\r\n\r\n        async getPostMessage(postId): Promise<void> {\r\n            console.log(postId);\r\n            let rep = null;\r\n            await axios.get(\"https://api.hugovast.tech/posts/\" + postId,{\r\n                headers: {\r\n                    Authorization: localStorage.token //the token is a variable which holds the token\r\n                }\r\n            }).then(function(response) {\r\n                rep = response.data;\r\n            });\r\n            if (rep) {\r\n                this.postMessage = rep.content;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .report {\r\n        display: flex;\r\n        flex-direction: column;\r\n        cursor:pointer;\r\n        background:white;\r\n        width:50vw;\r\n        padding:15px;\r\n        border-radius: 5px;\r\n        -webkit-box-shadow: 0px 0px 5px 0px rgba(158,158,158,1);\r\n        -moz-box-shadow: 0px 0px 5px 0px rgba(158,158,158,1);\r\n        box-shadow: 0px 0px 5px 0px rgba(158,158,158,1);\r\n        margin-top:30px;\r\n        margin-bottom:30px;\r\n    }\r\n    .report h2 {\r\n        margin-bottom:10px;\r\n    }\r\n\r\n    .report > p {\r\n        word-break: break-word;\r\n        max-width: 100%;\r\n        width:100%;\r\n    }\r\n\r\n    .report p:nth-child(3) {\r\n        padding-bottom:20px;\r\n        border-bottom: 1px solid #D8D8D8;\r\n    }\r\n\r\n    .report > p:last-child {\r\n        font-style: italic;\r\n        color:#C1C1C1;\r\n    }\r\n    .report > p:nth-child(4) {\r\n        margin-top:20px;\r\n        margin-bottom:10px;\r\n    }\r\n</style>\r\n"]}]}