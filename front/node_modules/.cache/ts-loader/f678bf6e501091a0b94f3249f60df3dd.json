{"remainingRequest":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/babel-loader/lib/index.js!/Users/brdnicolas/Desktop/DebateMe/front/node_modules/ts-loader/index.js??ref--14-2!/Users/brdnicolas/Desktop/DebateMe/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brdnicolas/Desktop/DebateMe/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brdnicolas/Desktop/DebateMe/front/src/components/mini-components/header.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/brdnicolas/Desktop/DebateMe/front/src/components/mini-components/header.vue","mtime":1597089633579},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brdnicolas/Desktop/DebateMe/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYnJkbmljb2xhcy9EZXNrdG9wL0RlYmF0ZU1lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYnJkbmljb2xhcy9EZXNrdG9wL0RlYmF0ZU1lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2JyZG5pY29sYXMvRGVza3RvcC9EZWJhdGVNZS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9icmRuaWNvbGFzL0Rlc2t0b3AvRGViYXRlTWUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvYnJkbmljb2xhcy9EZXNrdG9wL0RlYmF0ZU1lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBteUFQSSBmcm9tICJAL2NvbXBvbmVudHMvbXlBUEkiOwoKdmFyIEhlYWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhIZWFkZXIsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEhlYWRlcik7CgogIGZ1bmN0aW9uIEhlYWRlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpOwogICAgX3RoaXMuY3VycmVudFBhZ2UgPSAiIjsKICAgIF90aGlzLnVzZXIgPSBbbnVsbF07CiAgICBfdGhpcy5wcm9maWxQaWMgPSAiIjsKICAgIF90aGlzLnZpc2libGVNZW51ID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSGVhZGVyLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdGhpcy5nZXRDdXJyZW50VXNlcigpOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gZG9jdW1lbnQuVVJMLnNwbGl0KCIvIilbM107CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q3VycmVudFVzZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDdXJyZW50VXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIHJlcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXAgPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbXlBUEkuZ2V0KCJ1c2Vycy9tZS9wcm9maWxlIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmVwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgICAgICAgICAgICBfdGhpczIuZGVjb25uZXhpb24oKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAocmVwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMudXNlciA9IHJlcDsKICAgICAgICAgICAgICAgICAgdGhpcy5wcm9maWxQaWMgPSByZXAuaW1nLnByb2ZpbGVfcGljdHVyZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKCkgewogICAgICAgIHJldHVybiBfZ2V0Q3VycmVudFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEN1cnJlbnRVc2VyOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVkaXJlY3RUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVkaXJlY3RUbyhwYWdlKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nICsgcGFnZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWNvbm5leGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVjb25uZXhpb24oKSB7CiAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9ICIiOwogICAgICBzZXNzaW9uU3RvcmFnZS50b2tlbiA9ICIiOwogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJzsKICAgIH0KICB9XSk7CgogIHJldHVybiBIZWFkZXI7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEhlYWRlci5wcm90b3R5cGUsICJtc2ciLCB2b2lkIDApOwoKSGVhZGVyID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgSGVhZGVyKTsKZXhwb3J0IGRlZmF1bHQgSGVhZGVyOw=="},{"version":3,"sources":["/Users/brdnicolas/Desktop/DebateMe/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brdnicolas/Desktop/DebateMe/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brdnicolas/Desktop/DebateMe/front/src/components/mini-components/header.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;AAgDA,SAAS,SAAT,EAAoB,IAApB,EAA0B,GAA1B,QAAqC,wBAArC;AACA,OAAO,KAAP,MAAkB,oBAAlB;;AAGA,IAAqB,MAArB;AAAA;;AAAA;;AAOI,oBAAA;AAAA;;AAAA;;AACI;AACA,UAAK,WAAL,GAAmB,EAAnB;AACA,UAAK,IAAL,GAAY,CAAC,IAAD,CAAZ;AACA,UAAK,SAAL,GAAiB,EAAjB;AACA,UAAK,WAAL,GAAmB,KAAnB;AALJ;AAMC;;AAbL;AAAA;AAAA,8BAeW;AACH,WAAK,cAAL;AACA,WAAK,WAAL,GAAmB,QAAQ,CAAC,GAAT,CAAa,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAnB;AACH;AAlBL;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBY,gBAAA,GArBZ,GAqBkB,IArBlB;AAAA;AAAA,uBAsBc,KAAK,CAAC,GAAN,CAAU,kBAAV,EAA8B,IAA9B,CAAmC,UAAC,QAAD,EAA2B;AAChE,kBAAA,GAAG,GAAG,QAAQ,CAAC,IAAf;AACH,iBAFK,EAEH,KAFG,CAEG,UAAA,KAAK,EAAG;AACb,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AACA,kBAAA,MAAI,CAAC,WAAL;AACH,iBALK,CAtBd;;AAAA;AA4BQ,oBAAI,GAAJ,EAAS;AACL,uBAAK,IAAL,GAAY,GAAZ;AACA,uBAAK,SAAL,GAAkB,GAA0B,CAAC,GAA3B,CAA+B,eAAjD;AACH;;AA/BT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BAkCe,IAlCf,EAkC2B;AACnB,MAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,MAAM,IAA7B;AACH;AApCL;AAAA;AAAA,kCAsCe;AACP,MAAA,YAAY,CAAC,KAAb,GAAqB,EAArB;AACA,MAAA,cAAc,CAAC,KAAf,GAAuB,EAAvB;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,GAAvB;AACH;AA1CL;;AAAA;AAAA,EAAoC,GAApC,CAAA;;AACY,UAAA,CAAA,CAAP,IAAI,EAAG,CAAA,E,gBAAA,E,KAAA,E,KAAqB,CAArB,CAAA;;AADS,MAAM,GAAA,UAAA,CAAA,CAD1B,SAC0B,CAAA,EAAN,MAAM,CAAN;eAAA,M","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport myAPI from \"@/components/myAPI\";\n\n@Component\nexport default class Header extends Vue {\n    @Prop() private msg!: string;\n\n    currentPage: string;\n    user: object;\n    visibleMenu: boolean;\n    profilPic: string;\n    constructor() {\n        super();\n        this.currentPage = \"\";\n        this.user = [null];\n        this.profilPic = \"\";\n        this.visibleMenu = false;\n    }\n\n    mounted() {\n        this.getCurrentUser();\n        this.currentPage = document.URL.split(\"/\")[3];\n    }\n\n    async getCurrentUser(): Promise<void> {\n        let rep = null;\n        await myAPI.get(\"users/me/profile\").then((response: { data: any}) =>  {\n            rep = response.data;\n        }).catch(error => {\n            console.log(error);\n            this.deconnexion();\n        });\n        if (rep) {\n            this.user = rep;\n            this.profilPic = (rep as Record<string,any>).img.profile_picture;\n        }\n    }\n\n    redirectTo(page: string): void {\n        window.location.href = '/' + page;\n    }\n\n    deconnexion(): void {\n        localStorage.token = \"\";\n        sessionStorage.token = \"\";\n        window.location.href = '/';\n    }\n\n}\n"],"sourceRoot":""}]}