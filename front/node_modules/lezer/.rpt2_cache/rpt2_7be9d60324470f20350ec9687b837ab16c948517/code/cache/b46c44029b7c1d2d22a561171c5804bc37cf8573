{"code":"import { Stack, BADNESS_WILD } from \"./stack\";\nimport { TERM_EOF, TERM_ERR, ANON_TERM } from \"./parser\";\nimport { Node, Tree, TreeBuffer, DEFAULT_BUFFER_LENGTH, setBufferLength } from \"./tree\";\nvar verbose = typeof process != \"undefined\" && /\\bparse\\b/.test(process.env.LOG);\nvar CacheCursor = /** @class */ (function () {\n    function CacheCursor(tree) {\n        this.start = [0];\n        this.index = [0];\n        this.nextStart = 0;\n        this.trees = tree instanceof Tree ? [tree] : [];\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    CacheCursor.prototype.nodeAt = function (pos) {\n        if (pos < this.nextStart)\n            return null;\n        for (;;) {\n            var last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextStart = 1e9;\n                return null;\n            }\n            var top_1 = this.trees[last], index = this.index[last];\n            if (index == top_1.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            var next = top_1.children[index];\n            var start = this.start[last] + top_1.positions[index];\n            if (next instanceof TreeBuffer) {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n            else if (start >= pos) {\n                return start == pos ? next : null;\n            }\n            else {\n                this.index[last]++;\n                if (start + next.length >= pos) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n        }\n    };\n    return CacheCursor;\n}());\n// FIXME use flat array\nvar Token = /** @class */ (function () {\n    function Token() {\n        this.start = 0;\n        this.end = 0;\n        this.term = -1;\n        this.specialized = -1;\n    }\n    return Token;\n}());\nvar TokenCache = /** @class */ (function () {\n    function TokenCache() {\n        this.tokens = [];\n        this.tokenizers = [];\n        this.actions = [];\n        this.pos = 0;\n        this.index = 0;\n        this.skipPos = 0;\n        this.skipTo = 0;\n        this.skipContent = [];\n        this.skipType = null;\n    }\n    TokenCache.prototype.actionsFor = function (parser, state, input, pos) {\n        if (pos > this.pos) {\n            this.index = 0;\n            this.pos = pos;\n        }\n        var actionIndex = 0;\n        for (var _i = 0, _a = state.tokenizers; _i < _a.length; _i++) {\n            var tokenizer = _a[_i];\n            var token = void 0;\n            for (var i = 0; i < this.index; i++)\n                if (this.tokenizers[i] == tokenizer)\n                    token = this.tokens[i];\n            if (!token) {\n                if (this.tokens.length <= this.index)\n                    this.tokens.push(token = new Token);\n                else\n                    token = this.tokens[this.index];\n                this.tokenizers[this.index++] = tokenizer;\n                var result = tokenizer(input.goto(pos));\n                token.start = pos;\n                token.specialized = -1;\n                if (result < 0) {\n                    token.term = TERM_ERR;\n                    token.end = pos + 1;\n                }\n                else {\n                    token.term = result;\n                    token.end = input.pos;\n                    var specIndex = parser.specialized.indexOf(result);\n                    if (specIndex >= 0) {\n                        var found = parser.specializations[specIndex][input.read(pos, token.end)];\n                        if (found != null)\n                            token.specialized = found;\n                    }\n                }\n            }\n            if (token.specialized > -1) {\n                var initialIndex = actionIndex;\n                actionIndex = this.addActions(state, token.specialized, token.end, actionIndex);\n                if (actionIndex > initialIndex)\n                    continue;\n            }\n            if (token.term != TERM_ERR)\n                actionIndex = this.addActions(state, token.term, token.end, actionIndex);\n        }\n        if (pos == input.length)\n            actionIndex = this.addActions(state, TERM_EOF, pos, actionIndex);\n        if (this.actions.length > actionIndex)\n            this.actions.length = actionIndex;\n        return this.actions;\n    };\n    TokenCache.prototype.addActions = function (state, token, end, index) {\n        for (var i = 0; i < state.actions.length; i += 2)\n            if (state.actions[i] == token) {\n                this.actions[index++] = state.actions[i + 1];\n                this.actions[index++] = token;\n                this.actions[index++] = end;\n            }\n        return index;\n    };\n    TokenCache.prototype.updateSkip = function (skip, input, pos) {\n        if (pos == this.skipPos && skip == this.skipType)\n            return this.skipTo;\n        this.skipType = skip;\n        this.skipPos = pos;\n        this.skipContent.length = 0;\n        input.goto(pos);\n        for (;;) {\n            var start = input.pos, result = skip(input);\n            if (result < 0 || input.pos == start)\n                return this.skipTo = start;\n            if ((result & ANON_TERM) == 0)\n                this.skipContent.push(start, input.pos, result);\n        }\n    };\n    TokenCache.prototype.some = function () {\n        for (var i = 0; i < this.index; i++)\n            if (this.tokens[i].term != TERM_ERR)\n                return this.tokens[i];\n        return this.tokens[0];\n    };\n    return TokenCache;\n}());\nexport function parse(input, parser, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.cache, cache = _c === void 0 ? null : _c, _d = _b.strict, strict = _d === void 0 ? false : _d, _e = _b.bufferLength, bufferLength = _e === void 0 ? DEFAULT_BUFFER_LENGTH : _e;\n    setBufferLength(bufferLength);\n    var parses = [Stack.start(parser)];\n    var cacheCursor = cache && new CacheCursor(cache);\n    var tokens = new TokenCache;\n    var _loop_1 = function () {\n        var stack = Stack.take(parses);\n        var start = tokens.updateSkip(stack.state.skip, input, stack.pos);\n        if (cacheCursor) { //  && !stack.state.ambiguous) { // FIXME implement fragility check\n            for (var cached = cacheCursor.nodeAt(start); cached;) {\n                var match = stack.state.getGoto(cached.tag);\n                if (match) {\n                    stack.useCached(cached, start, parser.states[match]);\n                    if (verbose)\n                        console.log(stack + (\" (via reuse of \" + parser.getName(cached.tag) + \")\"));\n                    stack.put(parses);\n                    return \"continue-parse\";\n                }\n                if (cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                var inner = cached.children[0];\n                if (inner instanceof Node)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        if (stack.state.alwaysReduce >= 0) {\n            stack.reduce(stack.state.alwaysReduce);\n            stack.put(parses);\n            if (verbose)\n                console.log(stack + \" (via always-reduce)\");\n            return \"continue\";\n        }\n        var actions = tokens.actionsFor(parser, stack.state, input, start);\n        for (var i = 0; i < actions.length;) {\n            var action = actions[i++], term_1 = actions[i++], end = actions[i++];\n            var localStack = i == actions.length ? stack : stack.split();\n            localStack.apply(action, term_1, start, end, tokens.skipContent);\n            if (verbose)\n                console.log(localStack + (\" (via \" + (action < 0 ? \"shift\" : \"reduce\") + \" for \" + parser.getName(term_1) + \" @ \" + start + (localStack == stack ? \"\" : \", split\") + \")\"));\n            localStack.put(parses, action < 0);\n        }\n        if (actions.length > 0)\n            return \"continue\";\n        // If we're here, the stack failed to advance normally\n        var token = tokens.some();\n        var term = token.specialized > -1 ? token.specialized : token.term;\n        if (start == input.length) {\n            stack.shiftSkipped(tokens.skipContent);\n            return { value: stack.toTree() };\n        }\n        if (!strict &&\n            !(stack.badness > BADNESS_WILD && parses.some(function (s) { return s.pos >= stack.pos && s.badness <= stack.badness; }))) {\n            var inserted = stack.recoverByInsert(term, token.start, token.end);\n            if (inserted) {\n                if (verbose)\n                    console.log(inserted + \" (via recover-insert)\");\n                inserted.put(parses);\n            }\n            stack.recoverByDelete(term, token.start, token.end, tokens.skipContent);\n            if (verbose)\n                console.log(stack + \" (via recover-delete)\");\n            stack.put(parses);\n        }\n        else if (!parses.length) {\n            // Only happens in strict mode\n            throw new SyntaxError(\"No parse at \" + token.start + \" with \" + parser.getName(term) + \" (stack is \" + stack + \")\");\n        }\n    };\n    parse: for (;;) {\n        var state_1 = _loop_1();\n        if (typeof state_1 === \"object\")\n            return state_1.value;\n        switch (state_1) {\n            case \"continue-parse\": continue parse;\n        }\n    }\n}\n//# sourceMappingURL=parse.js.map","map":"{\"version\":3,\"file\":\"parse.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/parse.ts\"],\"names\":[],\"mappings\":\"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\"}"}
